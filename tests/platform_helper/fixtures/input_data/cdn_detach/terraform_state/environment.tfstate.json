{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 422,
  "lineage": "01234567-89ab-cdef-0123-456789abcdef",
  "outputs": {},
  "resources": [
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "archive_file",
      "name": "origin-secret-rotate-code",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:sts::112233445566:assumed-role/demodjango-main-environment-pipeline-codebuild/AWSCodeBuild-89abcdef-0123-4567-89ab-cdef01234567"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "origin_verify_rotate_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "secret_manager_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "domain-alb",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "domain-root",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 1,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 2,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 3,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_security_group",
      "name": "vpc_base_sg",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:112233445566:security-group/sg-023456789abcdef01"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_ssm_parameter",
      "name": "slack_token",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:ssm:eu-west-2:112233445566:parameter/codebuild/slack_oauth_token"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_subnets",
      "name": "private-subnets",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_subnets",
      "name": "public-subnets",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_vpc",
      "name": "vpc",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:112233445566:vpc/vpc-03456789abcdef012"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "certificate",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:acm:eu-west-2:112233445566:certificate/12345678-9abc-def0-1234-56789abcdef0"
          },
          "identity": {
            "arn": "arn:aws:acm:eu-west-2:112233445566:certificate/12345678-9abc-def0-1234-56789abcdef0"
          },
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "cert_validate",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "origin-secret-rotate-execution-role",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:iam::112233445566:role/demodjango-dev-origin-secret-rotate-role"
          },
          "identity": {
            "account_id": "112233445566",
            "name": "demodjango-dev-origin-secret-rotate-role"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "origin_secret_rotate_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {},
          "identity": {
            "account_id": "112233445566",
            "name": "OriginVerifyRotatePolicy",
            "role": "demodjango-dev-origin-secret-rotate-role"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "origin_verify_secret_key_alias",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:kms:eu-west-2:112233445566:alias/demodjango-dev-origin-verify-header-secret-key"
          },
          "identity": {
            "account_id": "112233445566",
            "name": "alias/demodjango-dev-origin-verify-header-secret-key",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "origin_verify_secret_key",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:kms:eu-west-2:112233445566:key/23456789-abcd-ef01-2345-6789abcdef01"
          },
          "identity": {
            "account_id": "112233445566",
            "id": "23456789-abcd-ef01-2345-6789abcdef01",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "origin-secret-rotate-function",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:lambda:eu-west-2:112233445566:function:demodjango-dev-origin-secret-rotate"
          },
          "identity": {
            "account_id": "112233445566",
            "function_name": "demodjango-dev-origin-secret-rotate",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "rotate-function-invoke-permission",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {},
          "identity": {
            "account_id": "112233445566",
            "function_name": "demodjango-dev-origin-secret-rotate",
            "qualifier": null,
            "region": "eu-west-2",
            "statement_id": "AllowSecretsManagerInvocation"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_lb",
      "name": "this",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:loadbalancer/app/demodjango-dev/0123456789abcdef"
          },
          "identity": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:loadbalancer/app/demodjango-dev/0123456789abcdef"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "alb-listener",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "http",
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:listener/app/demodjango-dev/0123456789abcdef/123456789abcdef0"
          },
          "identity": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:listener/app/demodjango-dev/0123456789abcdef/123456789abcdef0"
          }
        },
        {
          "index_key": "https",
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:listener/app/demodjango-dev/0123456789abcdef/23456789abcdef01"
          },
          "identity": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:listener/app/demodjango-dev/0123456789abcdef/23456789abcdef01"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "http-target-group",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:targetgroup/demodjango-dev-http/3456789abcdef012"
          },
          "identity": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-2:112233445566:targetgroup/demodjango-dev-http/3456789abcdef012"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "alb-record",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain",
      "instances": [
        {
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "internal.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "validation-record-san",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain",
      "instances": [
        {
          "index_key": 0,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_0123456789abcdef0123456789abcdef.api.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 1,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_123456789abcdef0123456789abcdef0.internal.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 2,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_23456789abcdef0123456789abcdef01.ip-filter-test.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": 3,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_3456789abcdef0123456789abcdef012.web.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "origin-verify-secret",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:secretsmanager:eu-west-2:112233445566:secret:demodjango-dev-origin-verify-header-secret-ABCDEF"
          },
          "identity": {
            "arn": "arn:aws:secretsmanager:eu-west-2:112233445566:secret:demodjango-dev-origin-verify-header-secret-ABCDEF"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_policy",
      "name": "secret_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {},
          "identity": {
            "secret_arn": "arn:aws:secretsmanager:eu-west-2:112233445566:secret:demodjango-dev-origin-verify-header-secret-ABCDEF"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_rotation",
      "name": "origin-verify-rotate-schedule",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {},
          "identity": {
            "secret_id": "arn:aws:secretsmanager:eu-west-2:112233445566:secret:demodjango-dev-origin-verify-header-secret-ABCDEF"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "alb-security-group",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "http",
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:112233445566:security-group/sg-00123456789abcdef"
          },
          "identity": {
            "account_id": "112233445566",
            "id": "sg-00123456789abcdef",
            "region": "eu-west-2"
          }
        },
        {
          "index_key": "https",
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:112233445566:security-group/sg-0123456789abcdef0"
          },
          "identity": {
            "account_id": "112233445566",
            "id": "sg-0123456789abcdef0",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_wafv2_web_acl",
      "name": "waf-acl",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:wafv2:eu-west-2:112233445566:regional/webacl/demodjango-dev-ACL/9abcdef0-1234-5678-9abc-def012345678"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_wafv2_web_acl_association",
      "name": "waf-alb-association",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.alb[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "random_password",
      "name": "origin-secret",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_cloudfront_cache_policy",
      "name": "policy-name",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "demodjango-cache-policy",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:cache-policy/abcdef01-2345-6789-abcd-ef0123456789"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_cloudfront_origin_request_policy",
      "name": "request-policy-name",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "demodjango-origin-request-policy",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:origin-request-policy/bcdef012-3456-789a-bcde-f0123456789a"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "domain-root",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_secretsmanager_secret_version",
      "name": "origin_verify_secret_version",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "",
          "attributes": {
            "arn": "arn:aws:secretsmanager:eu-west-2:112233445566:secret:demodjango-dev-origin-verify-header-secret-ABCDEF"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "data",
      "type": "aws_wafv2_web_acl",
      "name": "waf-default",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:wafv2:us-east-1:223344556677:global/webacl/waf_demodjango_dbtp_1566_fix/cdef0123-4567-89ab-cdef-0123456789ab"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "certificate",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/3456789a-bcde-f012-3456-789abcdef012"
          },
          "identity": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/3456789a-bcde-f012-3456-789abcdef012"
          },
          "create_before_destroy": true
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/456789ab-cdef-0123-4567-89abcdef0123"
          },
          "identity": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/456789ab-cdef-0123-4567-89abcdef0123"
          },
          "create_before_destroy": true
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/56789abc-def0-1234-5678-9abcdef01234"
          },
          "identity": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/56789abc-def0-1234-5678-9abcdef01234"
          },
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "cert-validate",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {}
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {}
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_cloudfront_cache_policy",
      "name": "cache_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "demodjango-cache-policy",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:cache-policy/abcdef01-2345-6789-abcd-ef0123456789"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "standard",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:distribution/E0123456789ABC"
          }
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:distribution/E123456789ABC0"
          }
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:distribution/E23456789ABC01"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_cloudfront_monitoring_subscription",
      "name": "additional_metrics",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {}
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {}
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_cloudfront_origin_request_policy",
      "name": "origin_request_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "demodjango-origin-request-policy",
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:origin-request-policy/bcdef012-3456-789a-bcde-f0123456789a"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cdn-address",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "api.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "A",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "ip-filter-test.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "A",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "web.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "A",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.cdn[\"demodjango-alb\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "validation-record",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": "api.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_456789abcdef0123456789abcdef0123.api.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "ip-filter-test.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_56789abcdef0123456789abcdef01234.ip-filter-test.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        },
        {
          "index_key": "web.dev.demodjango.uktrade.digital",
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_6789abcdef0123456789abcdef012345.web.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:sts::112233445566:assumed-role/demodjango-main-environment-pipeline-codebuild/AWSCodeBuild-89abcdef-0123-4567-89ab-cdef01234567"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_cloudfront_cache_policy",
      "name": "example",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:cloudfront::112233445566:cache-policy/def01234-5678-9abc-def0-123456789abc"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "bucket-policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3-ssm-kms-key-policy-document",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "selected",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "certificate",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/6789abcd-ef01-2345-6789-abcdef012345"
          },
          "identity": {
            "arn": "arn:aws:acm:us-east-1:223344556677:certificate/6789abcd-ef01-2345-6789-abcdef012345"
          },
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "certificate_validation",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "s3_distribution",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:distribution/E3456789ABC012"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_control",
      "name": "oac",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:cloudfront::223344556677:origin-access-control/EABCDEFGHIJKL"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "s3-ssm-kms-key",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:kms:eu-west-2:112233445566:key/789abcde-f012-3456-789a-bcdef0123456"
          },
          "identity": {
            "account_id": "112233445566",
            "id": "789abcde-f012-3456-789a-bcdef0123456",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_kms_key_policy",
      "name": "s3-ssm-kms-key-policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "attributes": {}
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cert_validation",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "_789abcdef0123456789abcdef0123456.demodjango-dev-static.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "CNAME",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cloudfront_domain",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"].domain-cdn",
      "instances": [
        {
          "index_key": 0,
          "attributes": {},
          "identity": {
            "account_id": "223344556677",
            "name": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "set_identifier": null,
            "type": "A",
            "zone_id": "Z0123456789ABCDEFGHIJ"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {
            "arn": "arn:aws:s3:::demodjango-dev-static.dev.demodjango.uktrade.digital"
          },
          "identity": {
            "account_id": "112233445566",
            "bucket": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "cloudfront_bucket_policy",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "attributes": {},
          "identity": {
            "account_id": "112233445566",
            "bucket": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "public_access_block",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {},
          "identity": {
            "account_id": "112233445566",
            "bucket": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_s3_bucket_versioning",
      "name": "this-versioning",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "attributes": {},
          "identity": {
            "account_id": "112233445566",
            "bucket": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_s3_object",
      "name": "object",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "test.html",
          "attributes": {
            "arn": "arn:aws:s3:::demodjango-dev-static.dev.demodjango.uktrade.digital/test.html"
          },
          "identity": {
            "account_id": "112233445566",
            "bucket": "demodjango-dev-static.dev.demodjango.uktrade.digital",
            "key": "test.html",
            "region": "eu-west-2"
          }
        }
      ]
    },
    {
      "module": "module.extensions.module.s3[\"demodjango-s3-bucket-static\"]",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "cloudfront_alias",
      "provider": "module.extensions.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "attributes": {
            "arn": "arn:aws:ssm:eu-west-2:112233445566:parameter/copilot/demodjango/dev/secrets/STATIC_S3_ENDPOINT"
          },
          "identity": {
            "account_id": "112233445566",
            "name": "/copilot/demodjango/dev/secrets/STATIC_S3_ENDPOINT",
            "region": "eu-west-2"
          }
        }
      ]
    }
  ]
}
