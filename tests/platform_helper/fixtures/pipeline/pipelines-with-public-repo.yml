application: my-app
accounts:
  - 111111111
  - 222222222

environments:
  dev:
  prod:
    requires_approval: true

codebase_pipelines:
  - name: application
    repository: organisation/repository
    additional_ecr_repository: public.ecr.aws/uktrade-platform-sandbox/demodjango/application
    services:
      - web
    pipelines:
      - name: main
        branch: main
        environments:
          - name: dev
      - name: tagged
        tag: true
        environments:
          - name: staging
          - name: prod
            requires_approval: true
