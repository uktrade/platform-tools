# WARNING: This is an autogenerated file, not for manual editing.
# Generated by platform-helper 14.0.0 / 2025-01-16 13:00:00.
name: web
type: Load Balanced Web Service
http:
  alias: web.test-app.dev.uktrade.digital
  path: /
  target_container: nginx
  healthcheck:
    path: /
    port: 8080
    success_codes: '200'
    healthy_threshold: 3
    unhealthy_threshold: 3
    interval: 35s
    timeout: 30s
    grace_period: 30s
sidecars:
  sidecar:
    port: 443
    image: public.ecr.aws/sidecar:latest
    variables:
      SERVER: localhost:8000
  ipfilter:
    image: public.ecr.aws/uktrade/ip-filter:tag-latest
image:
  location: public.ecr.aws/non-prod-acc/test-app/application:${IMAGE_TAG}
  port: 8080
cpu: 512
memory: 2048
count: 1
exec: true
network:
  connect: true
  vpc:
    placement: private
storage:
  readonly_fs: false
variables:
  DEBUG: false
  PORT: 8080
  SECRET_KEY: testing-secret-key
  SETTING: only in dev
secrets:
  DJANGO_SECRET_KEY: DJANGO_SECRET_KEY
  SECRET: only in dev
